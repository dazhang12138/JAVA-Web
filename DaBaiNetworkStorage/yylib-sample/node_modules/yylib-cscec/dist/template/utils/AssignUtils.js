'use strict';

/**
 * Created by xg on 2018/1/5.
 */
var _ = require('lodash');
var assign = require('lodash/assign');
var AssignUtils = {};

/**
 * 深度合并对象属性(target会覆盖source中的相同属性)
 * @param source 源
 * @param target 目标
 * @return 
 */
AssignUtils.assignObject = function (source, target) {
    if (!_.isPlainObject(source) || !_.isPlainObject(target)) {
        return null;
    }
    if (_.isEmpty(source)) {
        return assign({}, target);
    }
    if (_.isEmpty(target)) {
        return assign({}, source);
    }
    var retObj = _.cloneDeep(target);
    for (var key in source) {
        if (target.hasOwnProperty(key)) {
            retObj[key] = assign({}, source[key], target[key]);
        } else {
            retObj[key] = assign({}, source[key]);
        }
    }
    return retObj;
};

module.exports = AssignUtils;