'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.download = download;
exports.downloadFromFs = downloadFromFs;
exports.downloadFromFsById = downloadFromFsById;

/**
 * 文件下载工具
 *
 * @author 张远志
 * @time 2017年4月14日14:35:31
 */
var _require = require('../business/attach/attachaction'),
    loadAttachList = _require.loadAttachList,
    delAttach = _require.delAttach,
    showErrMsg = _require.showErrMsg,
    downloadUrl = _require.downloadUrl,
    listUrl = _require.listUrl,
    uploadUrl = _require.uploadUrl,
    delUrl = _require.delUrl;
/**
 * 文件下载
 * @param url
 * @param datas
 */


function download(url, datas) {
    var form = document.createElement('form');
    form.setAttribute("method", "get");
    form.setAttribute("action", url);
    for (var key in datas) {
        var item = document.createElement("input");
        item.setAttribute("name", key);
        item.setAttribute("value", datas[key]);
        form.appendChild(item);
    }
    document.body.appendChild(form);
    form.submit();
    document.body.removeChild(form);
}

function downloadFromFs(serverUrl, datas) {
    download(serverUrl + downloadUrl, datas);
}

function downloadFromFsById(serverUrl, id) {
    download(serverUrl + downloadUrl.substring(0, downloadUrl.indexOf("?")), { id: id });
}