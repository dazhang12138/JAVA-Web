'use strict';

var React = require('react');

var EventUtils = {
    /**
     * 为nodes节点添加事件
     */
    addEventToNodes: function addEventToNodes(nodes, event, handler) {
        for (var i = 0; i < nodes.length; i++) {
            this.addEvent(nodes[i], event, handler.bind(this), false);
        }
    }
    /**
     * 为nodes节点移除事件
     */
    , removeEventToNodes: function removeEventToNodes(nodes, event, handler) {
        for (var i = 0; i < nodes.length; i++) {
            this.removeEvent(nodes[i], event, handler.bind(this), false);
        }
    }
    /**
     * 添加事件
     * @param ele 要添加事件的DOM节点
     * @param event 要添加事件类型
     * @param handler 要添加事件处理函数
     */
    , addEvent: function addEvent(ele, event, handler) {
        if (!ele) {
            return;
        }
        if (ele.attachEvent) {
            ele.attachEvent('on' + event, handler);
        } else if (ele.addEventListener) {
            ele.addEventListener(event, handler, false);
        } else {
            ele['on' + event] = handler;
        }
    }
    /**
     * 移除事件
     * @param ele 要移除事件的DOM节点
     * @param event 要移除事件类型
     * @param handler 要移除事件处理函数
     */
    , removeEvent: function removeEvent(ele, event, handler) {
        if (!ele) {
            return;
        }
        if (ele.detachEvent) {
            ele.detachEvent('on' + event, handler);
        } else if (ele.removeEventListener) {
            ele.removeEventListener(event, handler, false);
        } else {
            ele['on' + event] = null;
        }
    }
};

module.exports = EventUtils;