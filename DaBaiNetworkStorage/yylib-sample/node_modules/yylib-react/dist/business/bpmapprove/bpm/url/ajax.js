'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ajax = ajax;

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _superagent = require('superagent');

var _superagent2 = _interopRequireDefault(_superagent);

var _ajax2 = require('yylib-utils/ajax');

var _ajax3 = _interopRequireDefault(_ajax2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// 使用superagent封装ajax请求
function ajax(options) {
    var opts = _lodash2.default.assign({ accept: 'text' }, options, {
        success: function success(data) {
            if (_lodash2.default.isObject(data)) {
                options.success(data);
            } else {
                options.success(JSON.parse(data));
            }
        }
    });
    _ajax3.default.request(opts);
}