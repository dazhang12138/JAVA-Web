# 大白网盘

> 小型网盘存储系统
> >## **Mr.Da**
> <img src="http://i.imgur.com/zinCKRK.png" width="" height="35"/>
>

## 初步设想

整个项目采用前后端分离的方式进行布局。

### 使用技术

1. 后台语言：JAVA
2. 前台使用：node.js+icop平台组件库
3. 包管理：Maven
4. 数据库：MongoDB（Oracle）
5. 框架：SpringMVC+Spring

考虑数据库是否使用MongoDb如果使用MongoDB则不使用mybatis框架，如果使用Oracle数据库则采用SSM框架。

### 主要功能

1. 模拟仿照百度网盘，实现用户管理和文件管理。
2. 用户登录注册找回密码，个人信息管理
3. 用户文件上传下载分享保存
4. 管理员管理用户（待定是否需要管理员）

### logo设计

![](https://i.imgur.com/43KmWoO.png)

### 数据库设计

![](https://i.imgur.com/cWkGHE1.png)

## 项目目录
	
	——yylib-sample  --前端
	——dabai --后端

# 实现记录

## 任务实现

> 粗体为暂未实现或考虑是否实现

1.	用户登录功能
	- 表单实现(登录名、登录密码；**【记住用户】**)
	- 表单值校验（前端不校验，在后端接受值后校验不能为空）
	- **返回信息提示**
	- 数据库查询
2. 用户注册功能
	- 表单实现(昵称、用户登录名、登录密码、密码二次验证、预留邮箱；**【注册完直接登录】**)
	- 表单值校验（前端首先进行完整校验，后端二次进行非空校验）
	- 提示信息（表单值校验结果显示，注册结果反馈页面显示，**邮箱校验结果信息改为英文**）
	- 创建用户文件夹(在服务器‘D:/DB_Files’文件夹下为大白网盘文件数据存储物理位置，以用户为单位存储，一个用户的文件存储在一个文件夹下，为此用户的根文件夹。名称为此用户昵称)
	- 保存用户数据
	- 保存文件夹数据
	- **邮箱实名验证**


## 逻辑实现
	
1.	**用户登录功能**
	- 表单输入登录名和登录密码
	- Ajax链接后端
		- url='http://localhost:8080/dabai/User/Login'
		- data=userName,userPwd 
		- method = POST
	- 后端接受数据(需要使用实体类方法接收) 
		- 参数值非空验证
	- 看参数是否记住用户登录信息，实现下次直接登录**（考虑是否实现）**
	- 数据库查询用户是否存在
		- 存在返回用户信息
		- 不存在返回null，
	- 结果反馈给前端
	- 反馈结果提示
		- 登录失败：提示
		- 登录成功：跳转到主页
2.	**用户注册功能**
	- 表单输入用户基本信息（昵称，登录名，密码，邮箱）
	- 表单值实时校验
		- 昵称和登录名需要数据库唯一值校验
			- 统一校验ajax地址url = 'http://localhost:8080/dabai/User/UserVerify'
		- 邮箱实现发送邮件验证 **（考虑是否需要实现）**
		- 密码需要二次输入
	- Ajax链接后端
		- url = 'http://localhost:8080/dabai/User/Register'
		- data = userName,userPwd,name,userEmail
		- method = POST
	- 后端接受数据（需要实体类方法接收）
		- 参数值非空验证
	- 创建用户根文件夹（物理位置）
		- 服务器物理存储位置：D:/ DB_Files
		- 文件夹名称为用户昵称
		- 之后此用户的所有文件存储在这个服务器的这个目录下
	- 保存文件夹信息到库
	- 保存用户信息到库
	- 结果反馈给前端
		- 全部成功操作则返回true
		- 否则失败一步则返回false。MongoDB数据库没有事务操作
	- 反馈结果提示
		- true：看是否直接登录，如果直接登录则直接进入用户主页，否则提示注册成功
		- false：提示注册失败
